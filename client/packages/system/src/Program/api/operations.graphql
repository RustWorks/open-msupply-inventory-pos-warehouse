fragment ProgramDocument on DocumentRegistryNode {
  id
  documentType
  formSchemaId
  jsonSchema
  name
  context
  parentId
  uiSchema
  uiSchemaType
  patientId
  enrol
}

fragment ProgramDocumentRegistry on DocumentRegistryNode {
  ...ProgramDocument
  children {
    ...ProgramDocument
  }
}

query programs($key: DocumentRegistrySortFieldInput!, $desc: Boolean) {
  documentRegistries(
    sort: { key: $key, desc: $desc }
    filter: { context: { equalTo: PROGRAM } }
  ) {
    ... on DocumentRegistryConnector {
      __typename
      totalCount
      nodes {
        __typename
        ...ProgramDocumentRegistry
      }
    }
  }
}
