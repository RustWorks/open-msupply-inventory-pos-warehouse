fragment PatientRow on PatientNode {
  id
  firstName
  lastName
  name
  dateOfBirth
}

fragment Patient on PatientNode {
  address1
  address2
  chargeCode
  comment
  country
  createdDatetime
  dateOfBirth
  document {
    id
    name
  }
  email
  firstName
  id
  isCustomer
  isDonor
  isManufacturer
  isOnHold
  isSupplier
  isSystemName
  isVisible
  name
  phone
  type
  website
  store {
    id
    code
  }
}

query patients(
  $storeId: String!
  $key: PatientSortFieldInput!
  $desc: Boolean
  $first: Int
  $offset: Int
  $filter: PatientFilterInput
) {
  names(
    storeId: $storeId
    page: { first: $first, offset: $offset }
    sort: { key: $key, desc: $desc }
    filter: $filter
  ) {
    ... on PatientConnector {
      __typename
      nodes {
        ...PatientRow
      }
      totalCount
    }
  }
}

query patientById($storeId: String!, $nameId: String!) {
  names(storeId: $storeId, filter: { id: { equalTo: $nameId } }) {
    ... on PatientConnector {
      __typename
      nodes {
        ...Patient
      }
      totalCount
    }
  }
}
