fragment TemperatureBreach on TemperatureBreachNode {
  __typename
  id
  acknowledged
  duration
  endDatetime
  startDatetime
  type
  maxOrMinTemperature

  sensor {
    id
    name
  }

  location {
    name
  }
}

query temperature_breaches(
  $page: PaginationInput
  $sort: [TemperatureBreachSortInput!]
  $filter: TemperatureBreachFilterInput
  $storeId: String!
) {
  temperatureBreaches(
    page: $page
    sort: $sort
    filter: $filter
    storeId: $storeId
  ) {
    ... on TemperatureBreachConnector {
      totalCount
      nodes {
        ...TemperatureBreach
      }
    }
  }
}
