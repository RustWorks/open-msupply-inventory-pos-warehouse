{
  "type": "Categorization",
  "elements": [
    {
      "type": "Category",
      "label": "Family Planning",
      "options": { "icon": "condom" },
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/familyPlanning/properties/pregnant"
        },
        {
          "type": "Control",
          "scope": "#/properties/familyPlanning/properties/contraception"
        }
      ]
    },
    {
      "type": "Category",
      "label": "Risk Behaviour",
      "options": { "icon": "document" },
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/riskGroup"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/receicedBloodTransfusion"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/injectedDrugsWithoutDoctorAdvice"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/accidentalNeedlePick"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/sexualTransmittedInfection"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/unprotectedVaginalSex"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/unprotectedAnalSex"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/prostitution"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/sexWithSameSex"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/forcedSexWithoutConsent"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/numberMaleSexualPartners6Month"
        },
        {
          "type": "Control",
          "scope": "#/properties/riskBehaviour/properties/numberFemaleSexualPartners6Month"
        }
      ]
    },
    {
      "type": "Category",
      "label": "HIV Testing",
      "options": { "icon": "stethoscope" },
      "elements": [
        {
          "type": "Control",
          "scope": "#/properties/hivTesting/properties/datetime"
        },
        {
          "type": "Control",
          "scope": "#/properties/hivTesting/properties/type"
        },
        {
          "type": "EventTrigger",
          "scope": "#",
          "options": {
            "baseDatetimeField": "startDatetime",
            "group": "PendingLabResults",
            "trigger": [
              {
                "triggerField": "hivTesting.datetime",
                "isTruthy": true
              },
              {
                "triggerField": "hivTestingResult.datetime",
                "isFalsy": true
              }
            ],
            "events": [
              {
                "name": "Pending Lab Result",
                "type": "status",
                "context": "HIVTestingEncounter"
              }
            ]
          }
        }
      ]
    },
    {
      "type": "Category",
      "label": "HIV Results",
      "options": { "icon": "microscope" },
      "elements": [
        {
          "type": "VerticalLayout",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/datetime"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/result"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/cd4Count"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/viralLoad"
            }
          ]
        },
        {
          "type": "EventTrigger",
          "scope": "#",
          "options": {
            "baseDatetimeField": "startDatetime",
            "group": "PendingLabResults",
            "trigger": [
              {
                "triggerField": "hivTestingResult.datetime",
                "isTruthy": true
              }
            ],
            "events": [
              {
                "name": "Lab Result",
                "type": "status",
                "context": "HIVTestingEncounter"
              }
            ]
          }
        }
      ]
    }
  ],
  "options": {
    "variant": "tab"
  }
}
