{
  "type": "Categorization",
  "elements": [
    {
      "type": "Category",
      "label": "Family Planning",
      "options": { "icon": "condom" },
      "elements": [
        { "scope": "#/properties/familyPlanning", "type": "Control" }
      ]
    },
    {
      "type": "Category",
      "label": "Risk Beahaviour",
      "options": { "icon": "document" },
      "elements": [{ "scope": "#/properties/riskBehaviour", "type": "Control" }]
    },
    {
      "type": "Category",
      "label": "HIV Testing",
      "options": { "icon": "stethoscope" },
      "elements": [
        { "scope": "#/properties/hivTesting", "type": "Control" },
        {
          "type": "EventTrigger",
          "scope": "#",
          "options": {
            "baseDatetimeField": "startDatetime",
            "group": "PendingLabResults",
            "trigger": [
              {
                "triggerField": "hivTesting.datetime",
                "isNotFalsy": true
              },
              {
                "triggerField": "hivTestingResult.datetime",
                "isFalsy": true
              }
            ],
            "events": [
              {
                "name": "Pending Lab Result",
                "type": "status",
                "context": "HIVTestingEncounter"
              }
            ]
          }
        }
      ]
    },
    {
      "type": "Category",
      "label": "HIV Results",
      "options": { "icon": "microscope" },
      "elements": [
        {
          "type": "VerticalLayout",
          "elements": [
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/datetime"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/result"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/cd4Count"
            },
            {
              "type": "Control",
              "scope": "#/properties/hivTestingResult/properties/viralLoad"
            }
          ]
        },
        {
          "type": "EventTrigger",
          "scope": "#",
          "options": {
            "baseDatetimeField": "startDatetime",
            "group": "PendingLabResults",
            "trigger": [
              {
                "triggerField": "hivTestingResult.datetime",
                "isNotFalsy": true
              }
            ],
            "events": [
              {
                "name": "Lab Result",
                "type": "status",
                "context": "HIVTestingEncounter"
              }
            ]
          }
        }
      ]
    }
  ],
  "options": {
    "variant": "tab"
  }
}
