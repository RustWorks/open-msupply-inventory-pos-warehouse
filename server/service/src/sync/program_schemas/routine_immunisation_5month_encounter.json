{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "BodyLocation": {
      "enum": ["Left Arm", "Right Arm", "Left Leg", "Right Leg"],
      "type": "string"
    },
    "DiphtheriaTetanusPertussisPolioHepatitisBHaemophilus": {
      "properties": {
        "location": {
          "$ref": "#/definitions/BodyLocation"
        },
        "vaccine": {
          "$ref": "#/definitions/DiphtheriaTetanusPertussisPolioHepatitisBHaemophilusVaccine"
        }
      },
      "type": "object"
    },
    "DiphtheriaTetanusPertussisPolioHepatitisBHaemophilusVaccine": {
      "enum": ["Infanrix-hexa", "None"],
      "type": "string"
    },
    "EncounterEvent": {
      "properties": {
        "context": {
          "description": "If not specified the program is used.",
          "type": "string"
        },
        "datetime": {
          "description": "Time of the the event, can be in the future",
          "format": "date-time",
          "type": "string"
        },
        "group": {
          "type": "string"
        },
        "name": {
          "description": "Name of this specific event. There could be multiple events of the same type but with different names. For example, two event could have type 'status' and name \"Status name 1\" and \"Status name 2\"",
          "type": "string"
        },
        "type": {
          "description": "For example, encounter 'status'.",
          "type": "string"
        }
      },
      "required": ["datetime", "type"],
      "type": "object"
    },
    "EncounterStatus": {
      "enum": ["SCHEDULED", "DONE", "CANCELLED"],
      "type": "string"
    },
    "FakeVaccinator": {
      "enum": ["Dr Frank", "Dr Peters", "Mrs Shaw"],
      "type": "string"
    },
    "Pneumococcal": {
      "properties": {
        "location": {
          "$ref": "#/definitions/BodyLocation"
        },
        "vaccine": {
          "$ref": "#/definitions/PneumococcalVaccine"
        }
      },
      "type": "object"
    },
    "PneumococcalVaccine": {
      "enum": ["Synflorix", "None"],
      "type": "string"
    },
    "Practitioner": {
      "properties": {
        "firstName": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        }
      },
      "type": "object"
    },
    "RoutineImmunisation5MonthEncounter": {
      "properties": {
        "diph": {
          "$ref": "#/definitions/DiphtheriaTetanusPertussisPolioHepatitisBHaemophilus"
        },
        "endDatetime": {
          "description": "Encounter end date and time",
          "format": "date-time",
          "type": "string"
        },
        "events": {
          "items": {
            "$ref": "#/definitions/EncounterEvent"
          },
          "type": "array"
        },
        "notes": {
          "type": "string"
        },
        "pneumococcal": {
          "$ref": "#/definitions/Pneumococcal"
        },
        "practitioner": {
          "$ref": "#/definitions/Practitioner"
        },
        "startDatetime": {
          "description": "Encounter start date and time",
          "format": "date-time",
          "type": "string"
        },
        "status": {
          "$ref": "#/definitions/EncounterStatus"
        },
        "vaccinator": {
          "$ref": "#/definitions/FakeVaccinator"
        }
      },
      "required": ["startDatetime"],
      "type": "object"
    }
  },
  "type": "object",
  "allOf": [
    {
      "$ref": "#/definitions/RoutineImmunisation5MonthEncounter"
    }
  ]
}
