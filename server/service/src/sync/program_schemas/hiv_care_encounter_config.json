{
  "events": [
    {
      "type": "Schedule",
      "conditions": [{ "field": "arvMedication.endOfSupply", "isSet": true }],
      "config": {
        "datetimeField": "arvMedication.endOfSupply",
        "scheduleFromNow": true,
        "scheduleIn": { "days": 0, "minutes": 1 }
      },
      "event": {
        "documentType": "HIV Care & Treatment",
        "type": "programStatus",
        "data": "Early LTFU"
      }
    },
    {
      "type": "Schedule",
      "conditions": [{ "field": "arvMedication.endOfSupply", "isSet": true }],
      "config": {
        "datetimeField": "arvMedication.endOfSupply",
        "scheduleFromNow": true,
        "scheduleIn": { "days": 0, "minutes": 3 }
      },
      "event": {
        "documentType": "HIV Care & Treatment",
        "type": "programStatus",
        "data": "LTFU"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "arvMedication.endOfSupply",
          "isTruthy": true
        }
      ],
      "event": {
        "type": "arvMedicationEndOfSupply",
        "dataField": "arvMedication.endOfSupply"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "arvMedication.regimenStatus",
          "equalAny": ["START", "CHANGE"]
        }
      ],
      "event": {
        "type": "arvMedicationRegimen",
        "dataField": "arvMedication.regimen"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "arvMedication.regimenStatus",
          "equalAny": ["STOP"]
        }
      ],
      "event": {
        "type": "arvMedicationRegimen",
        "data": ""
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "arvMedication.quantityPrescribed",
          "isTruthy": true
        }
      ],
      "event": {
        "type": "arvMedicationQuantityPrescribed",
        "dataField": "arvMedication.quantityPrescribed"
      }
    },
    {
      "type": "Schedule",
      "conditions": [
        {
          "field": "arvMedication.regimenStatus",
          "equalTo": "START"
        }
      ],
      "config": {
        "datetimeField": "startDatetime",
        "scheduleIn": { "months": 6 }
      },
      "event": {
        "type": "LTFUEligibility",
        "data": "Baseline"
      }
    },
    {
      "type": "Schedule",
      "conditions": [
        {
          "field": "viralLoad.eacDone",
          "isTruthy": true
        }
      ],
      "config": {
        "datetimeField": "startDatetime",
        "scheduleIn": { "months": 3 }
      },
      "event": {
        "type": "LTFUEligibility",
        "data": "High Repeat"
      }
    },
    {
      "type": "Schedule",
      "conditions": [
        {
          "field": "viralLoad.viralLoadResult",
          "lessThanOrEqualTo": 1000
        },
        {
          "field": "viralLoad.eacDone",
          "isFalsy": true
        }
      ],
      "config": {
        "datetimeField": "startDatetime",
        "scheduleIn": { "months": 12 }
      },
      "event": {
        "type": "LTFUEligibility",
        "data": "Annual"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "viralLoad.tested",
          "isTruthy": true
        },
        {
          "field": "viralLoad.viralLoadResult",
          "isFalsy": true
        }
      ],
      "event": {
        "documentName": true,
        "type": "encounterStatus",
        "data": "Pending VL Result"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "viralLoad.viralLoadResult",
          "isTruthy": true
        }
      ],
      "event": {
        "documentName": true,
        "type": "encounterStatus",
        "data": "VL Result"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "viralLoad.viralLoadResult",
          "isTruthy": true
        }
      ],
      "event": {
        "type": "viralLoadResult",
        "dataField": "viralLoad.viralLoadResult"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "viralLoad.viralLoadResult",
          "isTruthy": true
        }
      ],
      "event": {
        "type": "viralLoadResultDatetime",
        "dataField": "startDatetime"
      }
    },
    {
      "type": "Field",
      "conditions": [
        {
          "field": "viralLoad.targeting",
          "isTruthy": true
        }
      ],
      "event": {
        "type": "viralLoadTargetting",
        "dataField": "viralLoad.targeting"
      }
    }
  ]
}
